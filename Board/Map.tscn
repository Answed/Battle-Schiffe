[gd_scene load_steps=11 format=3 uid="uid://jtf48u8gilbr"]

[ext_resource type="Script" path="res://Board/BoardGeneration/MapGen.cs" id="1_8wxhl"]
[ext_resource type="Script" path="res://Board/Map.cs" id="1_bpkr7"]
[ext_resource type="Texture2D" uid="uid://cdkvv1gdfviac" path="res://Board/Textures/Island1.png" id="3_cakve"]
[ext_resource type="Script" path="res://Board/BoardGeneration/MapUI.cs" id="3_fjbga"]
[ext_resource type="Texture2D" uid="uid://lgo6lehcj5bm" path="res://Board/Textures/Water.png" id="3_h6o2v"]
[ext_resource type="Texture2D" uid="uid://exb2v7jtj11y" path="res://Board/Textures/Grid.png" id="5_8chl2"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_0v2b0"]
texture = ExtResource("3_h6o2v")
texture_region_size = Vector2i(200, 200)
use_texture_padding = false
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_3l8b2"]
tile_size = Vector2i(200, 200)
sources/0 = SubResource("TileSetAtlasSource_0v2b0")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_lvtlu"]
texture = ExtResource("5_8chl2")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_hy4lx"]
tile_size = Vector2i(200, 200)
sources/0 = SubResource("TileSetAtlasSource_lvtlu")

[node name="Map" type="Node"]
script = ExtResource("1_bpkr7")

[node name="MapUI" type="Node2D" parent="."]
script = ExtResource("3_fjbga")
IslandSprites = Array[CompressedTexture2D]([ExtResource("3_cakve")])

[node name="Water" type="TileMapLayer" parent="MapUI"]
tile_set = SubResource("TileSet_3l8b2")

[node name="Grid" type="TileMapLayer" parent="MapUI"]
z_index = 1
tile_set = SubResource("TileSet_hy4lx")

[node name="MapGen" type="Node" parent="."]
script = ExtResource("1_8wxhl")

[connection signal="GenerateMap" from="." to="MapGen" method="GenerateMap"]
[connection signal="SendMapWidth" from="." to="MapUI" method="GetWidth"]
[connection signal="SendPosition" from="." to="MapUI" method="GetPosition"]
[connection signal="SendSize" from="." to="MapUI" method="GetSize"]
[connection signal="GetUIData" from="MapUI" to="." method="GetUIData"]
[connection signal="GivingIslands" from="MapGen" to="." method="GetIslandInfos"]
[connection signal="MapGenerationFinished" from="MapGen" to="MapUI" method="MapReady"]
